<template>
    <c-lwc_b2b_toast 
        data-id="errorToast">
    </c-lwc_b2b_toast>

    <div class="paymentProcess-step4 slds-is-relative" id="step-4" tabindex="-1">
        <div class="slds-text-heading_subtitle">{label.PAY_PaymentSummary_details}</div>
        <div class="slds-grid slds-wrap">
            <div class="slds-col">
                <template if:true={step3field.clientReference}>
                    <c-lwc_b2b_reference 
                        value={paymentdraft.reference} 
                        errormsg={errorRef} 
                        steps={steps} 
                        ismodified={isModified} 
                        isediting={isediting}>
                    </c-lwc_b2b_reference>
                </template>
            </div>
            <div class="slds-col">
                <!--<template if:true={step3field.reference}>
                    <c-lwc_b2b_reference value="{paymentdraft.reference}" errormsg="{errorRef}" steps="steps}" ismodified="{isModified}" isediting="{isediting}" />
                </template>-->
                <template if:true={step3field.paymentPurpose}> <!--payment purpose-->
                    <c-lwc_pay_filterdropdown 
                        data-id="purposeDropdown" 
                        values={paymentpurpose}
                        selectedvalue={paymentdraft.purpose}
                        helptextdropdown={label.Show_More} 
                        issimpledropdown
                        labelvar={label.B2B_PaymentPurpose}                         
                        valuesplaceholder=""                        
                        errortext={errorPurpose}>
                    </c-lwc_pay_filterdropdown>
                    <!--<c-lwc_b2b_purpose data-id="dropdown" name="purpose" selectedvalue="{!v.paymentdraft.purpose}" errormsg="{!v.errorPurpose}" showdropdown="false" steps="{!v.steps}" ismodified="{!v.isModified}" isediting="{!v.isediting}" />-->
                </template>
                    
                <template if:true={step3field.charges}> <!--charges-->
                    <!--ToDo MA <c-lwc_pay_filterdropdown/>-->
                    <c-lwc_pay_filterdropdown 
                        data-id="charges" 
                        values={charges} 
                        selectedvalue={paymentdraft.chargeBearer} 
                        helptextdropdown={label.Show_More} 
                        issimpledropdown
                        labelvar={label.charges}                         
                        valuesplaceholder=""                         
                        errortext={errorCharges}>
                    </c-lwc_pay_filterdropdown>
                </template> 
                <template if:true={step3field.paymentReason}> <!--payment reason-->
                    <!--ToDo MA <c-lwc_pay_filterdropdown/>-->
                    <c-lwc_pay_filterdropdown 
                        data-id="paymentReason" 
                        values={charges} 
                        selectedvalues={paymentdraft.chargeBearer}
                        helptextdropdown={label.Show_More}
                        issimpledropdown
                        labelvar={label.B2B_PaymentPurpose}                         
                        valuesplaceholder=""                         
                        errortext={errorPaymentReason}>
                    </c-lwc_pay_filterdropdown>
                </template> 
            </div>
        </div>

        <template if:true={step3field.commercialCode}><!--commercial code-->
            <div class="slds-col">
                <c-lwc_b2b_comercial-code 
                    data-id="comercialCode" 
                    name="comercialCode" 
                    selectedvalue={paymentdraft.comercialCode} 
                    steps={steps}                    
                    ismodified={isModified} 
                    isediting={isediting}>
                </c-lwc_b2b_comercial-code>
            </div>
        </template>
        <div class="slds-col"> <!--commercial code-->
            <c-lwc_b2b_description 
                value={paymentdraft.description} 
                steps={steps}
                ismodified={isModified} 
                isediting={isediting}>
            </c-lwc_b2b_description>
        </div> 
        <!--<div class="slds-col">
            <template if:true={step3field.reference}>
                <c-lwc_b2b_reference value="{paymentdraft.reference}" errormsg="{errorRef}" steps="{steps}" ismodified="{isModified}" isediting="{isediting}" />
            </template>
        </div>-->
        <template if:true={spinner}>
            <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
        </template>
        <!--<template if:true={isStepNumberThree}>
            <c-lwc_b2b_process-continue-button handlecontinue={handleContinue}></c-lwc_b2b_process-continue-button>
        </template>-->

        <template if:true={isBrasilAccount}>
            <template if:true={paymentDraftPurpose}>
                <c-cmp-upload-document-brasil 
                    oninformfiles={updateFiles} 
                    paymentid={paymentdraft.paymentId}>
                </c-cmp-upload-document-brasil>
            </template>
        </template>
    </div> 
</template>