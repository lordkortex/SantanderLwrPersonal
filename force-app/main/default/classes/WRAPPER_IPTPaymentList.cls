//
// Generated by JSON2Apex http://json2apex.herokuapp.com/
//
// The supplied json has fields with names that are not valid in apex
// and so can only be parsed with explicitly generated code, this option
// was auto selected for you.

public class WRAPPER_IPTPaymentList {
    @AuraEnabled

public list<paymentList> paymentList{get;set;}
public class transactionStatus{
    @AuraEnabled
    public String reason{get;set;}
    @AuraEnabled

    public String status{get;set;}
}
public class paymentList{
    @AuraEnabled

    public paymentDetail paymentDetail{get;set;}
    @AuraEnabled

    public links links{get;set;}
}
public class paymentDetail{
    @AuraEnabled
    public String valueDate{get;set;}
    @AuraEnabled
    public String issueDate{get;set;}
    @AuraEnabled
    public account account{get;set;}
    @AuraEnabled
    public String statusDate{get;set;}
    @AuraEnabled
    public originatorData originatorData{get;set;}
    @AuraEnabled
    public cancellationStatus cancellationStatus{get;set;}
    @AuraEnabled
    public transactionStatus transactionStatus{get;set;}
    @AuraEnabled
    public paymentAmount paymentAmount{get;set;}
    @AuraEnabled
    public originatorAgent originatorAgent{get;set;}
    @AuraEnabled
    public beneficiaryData beneficiaryData{get;set;}
    @AuraEnabled
    public String paymentId{get;set;}
}
public class paymentAmount{
    @AuraEnabled
    public String amount{get;set;}
    @AuraEnabled
    public String numberFormat{get;set;}
    @AuraEnabled
    public String tcurrency{get;set;}
    @AuraEnabled
    public String currency_X{get;set;}
    @AuraEnabled
    public String paymentAmount_FormattedWholeNumber{get;set;}
    @AuraEnabled
    public String paymentAmount_FormattedDecimalPart{get;set;}
    @AuraEnabled
    public String paymentAmount_FormattedEntirePart{get;set;}
}
public class originatorData{
    @AuraEnabled
    public originatorAccount originatorAccount{get;set;}
    @AuraEnabled
    public String originatorName{get;set;}
}
public class originatorAgent{
    @AuraEnabled
    public String agentLocation{get;set;}
    @AuraEnabled
    public String agentName{get;set;}
    @AuraEnabled
    public String agentCountry{get;set;}
    @AuraEnabled
    public String agentCode{get;set;}
}
public class originatorAccount{
    @AuraEnabled
    public String idType{get;set;}
    @AuraEnabled
    public String accountId{get;set;}
}
public class creditorCreditAccount{
    @AuraEnabled
    public String idType{get;set;}
    @AuraEnabled
    public String accountId{get;set;}
}
public class creditorAgent{
    @AuraEnabled
    public String agentName{get;set;}
    @AuraEnabled
    public String agentCountry{get;set;}
    @AuraEnabled
    public String agentLocation{get;set;}
    @AuraEnabled
    public String agentCode{get;set;}
}
public class cancellationStatus{
    @AuraEnabled
    public String transactionCancellationStatus{get;set;}
}
public class beneficiaryData{
    @AuraEnabled
    public creditorAgent creditorAgent{get;set;}
    @AuraEnabled
    public String beneficiaryName{get;set;}
    @AuraEnabled
    public creditorCreditAccount creditorCreditAccount{get;set;}
}
public class account{
    @AuraEnabled
    public String accountId{get;set;}
    @AuraEnabled
    public String idType{get;set;}
}
public class links{
    @AuraEnabled
    public String paymentTrackerDetailsLink{get;set;}
    @AuraEnabled
    public String prev{get;set;}
    @AuraEnabled
    public String next{get;set;}
    @AuraEnabled
    public String first{get;set;}
}
public static WRAPPER_IPTPaymentList parse(String json){
    return (WRAPPER_IPTPaymentList) System.JSON.deserialize(json, WRAPPER_IPTPaymentList.class);
}

public static void getValueDateFormat(WRAPPER_IPTPaymentList ipt){
    try{

        String format = Global_Utilities.getUserDateFormat(UserInfo.getUserId());
        if(format == null || format == ''){
            format='dd/MM/yyyy';
        }

		if(ipt != null && ipt.paymentList != null){
        	for(WRAPPER_IPTPaymentList.paymentList p : ipt.paymentList){

                String vDateOriginal=p.paymentDetail.valueDate;
                String sDateOriginal=p.paymentDetail.statusDate;
                if(vDateOriginal!= null && vDateOriginal !=''){
                    Date d=Date.valueOf(vDateOriginal);
                    Datetime dt = Datetime.newInstanceGMT(d.year(), d.month(),d.day());
                    p.paymentDetail.valueDate = dt.formatGmt(format);
                }

                if(sDateOriginal!= null && sDateOriginal !=''){
                    String formattedDate = String.ValueofGmt(DateTime_Utilities.stringToDateTimeStep(sDateOriginal,0));

                    Date f=Date.valueOf(formattedDate.substring(0,10));
                    Datetime ft = Datetime.newInstanceGMT(f.year(), f.month(), f.day());
                    String firstPart =ft.formatGmt(format);

                    p.paymentDetail.statusDate = firstPart +' - ' +formattedDate.substring(11);
                }
        	}
        }
        
    }catch(Exception e){
        System.debug('CNT_IPTDetailParent.getReason: ' + e.getMessage());
    }
}


public static void getFormattedNumbers(WRAPPER_IPTPaymentList ipt){
    try{
        String format = Global_Utilities.getUserNumberFormat(UserInfo.getUserId());

        for(WRAPPER_IPTPaymentList.paymentList p : ipt.paymentList){

            p.paymentDetail.paymentAmount.numberFormat= format;

            /*String originalAmount=p.paymentDetail.paymentAmount.amount;
            if(originalAmount!= null && originalAmount !=''){
                Decimal rA = decimal.valueOf(originalAmount);
                List<String> args = new String[]{'0','number',format};
                p.paymentDetail.paymentAmount.amount= String.format(rA.format(), args);

            }*/

        }
        
    }catch(Exception e){
        System.debug('CNT_IPTDetailParent.getReason: ' + e.getMessage());
    }
}



}